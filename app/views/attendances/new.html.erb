<h2>Club Name: <%= @activity.club.name %></h2>

<div class="container col-md-6 mt-4">
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Activity Name</th>
      <th>Date</th>
      <th>Week</th>
      <th>Activity Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><%= @activity.name %></td>
      <td><%= @activity.date_in_words %></td>
      <td><%= @activity.week_no %></td>
      <td><%= @activity.status.titleize %></td>
    </tr>
  </tbody>
</table>
</div>

<br/>
<div class="mb-3">Change Activity Status:
  <%= link_to 'Planned', activity_plan_path(@club, @activity), class: 'btn btn-warning' if !@activity.planned? %>
  <%= link_to 'Completed', activity_complete_path(@club, @activity), class: 'btn btn-success' if !@activity.completed? %>
  <%= link_to 'Cancelled', activity_cancel_path(@club, @activity), class: 'btn btn-danger' if !@activity.cancelled? %>
</div>

<%= form_for @club do |f| %>

  <table class="table table-bordered">

    <thead>
      <th scope="col">#</th>
      <th>Name</th>
      <th>Position</th>
      <th>Action</th>
    </thead>

    <% @club.members.each_with_index do |member,index| %>
      <tbody>
        <tr>
          <td><%= index + 1%></td>
          <td><%= member.name %></td>
          <td><%= member.position %></td>
          <td><%= link_to 'Attend', new_activity_attendance_path(@club, @activity), :method => :post if @activity.status != 'cancelled' %></td>
        </tr>
      </tbody>
    <% end %>
  </table>

  <%#= f.fields_for :attendances do |attend| %>
    <!-- <p><%#= attend.check_box :status %></p> -->
  <%# end %>

<% end %>

<%= link_to 'Back to Club Details', club_path(@activity.club.id), class: 'btn btn-secondary mt-3 mb-3' %>